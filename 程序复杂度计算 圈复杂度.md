程序复杂度计算 圈复杂度



圈复杂度概念
圈复杂度（Cyclomatic complexity，简写CC）也称为条件复杂度，是一种代码复杂度的衡量标准。由托马斯·J·麦凯布（Thomas J. McCabe, Sr.）于1976年提出，用来表示程序的复杂度，其符号为VG或是M。它可以用来衡量一个模块判定结构的复杂程度，数量上表现为独立现行路径条数，也可理解为覆盖所有的可能情况最少使用的测试用例数。圈复杂度大说明程序代码的判断逻辑复杂，可能质量低且难于测试和 维护。程序的可能错误和高的圈复杂度有着很大关系。
圈复杂度计算方法

节点判定法直观
其实，圈复杂度的计算还有更直观的方法，因为圈复杂度所反映的是“判定条件”的数量，所以圈复杂度实际上就是等于判定节点的数量再加上1，也即控制流图的区域数，对应的计算公式为

点边计算法 麻烦


圈复杂度的意义
在缺陷成为缺陷之前捕获它们。
圈复杂度与缺陷
一般来说圈复杂度大于10的方法存在很大的出错风险。圈复杂度和缺陷个数有高度的正相关：圈复杂度最高的模块和方法，其缺陷个数也可能最多。
圈复杂度与结构化测试
此外，它还为测试设计提供很好的参考。一个好的用例设计经验是：创建数量与被测代码圈复杂度值相等的测试用例，以此提升用例对代码的分支覆盖率。

圈复杂度与遗留代码
对于遗留代码的维护或重构，测量圈复杂度特别有价值。一般使用圈复杂度作为提升代码质量的切入点
圈复杂度和软件质量
降低圈复杂度的方法
重新组织你的函数
技巧1 提炼函数
有一段代码可以被组织在一起并独立出来:


技巧2 替换算法
把某个算法替换为另一个更清晰的算法：
Select 结构变为hashmap伐。。


简化条件表达式
技巧3 逆向表达
在代码中可能存在条件表达如下：
技巧5 合并条件
一系列条件判断，都得到相同结果:
技巧10 以明确函数取代参数
函数实现完全取决于参数值而采取不同反应：

简单的case select分支语句虽然圈复杂度高，但可读性强，不用优化
   return "MSG_7";
        case MSG_8:
            return "MSG_8";
        default:
            return "MSG_UNKNOWN"
    }}
这段代码无论从可读性来说，还是从可维护性来说都是可以接收的。因此，当因为”高”复杂度就进行重构的话（例如：技巧2或技巧6），在降低圈复杂度的同时会带来不必要的逻辑复杂度。
当然，如果出现下面的情况的话，还是有必要进一步降低圈复杂度的：
消息数过多。
switch…case…多处重复。对于消息过多的情况，可以考虑将消息进行


霍尔斯特德复杂度量测[编辑]
4种语言  利用函数数量来计算复杂度
 
霍尔斯特德复杂度量测（Halstead complexity measures）是由霍尔斯特德在1977年提出的一种软件度量方法[1]，是有关软件开发经验科学的论文中的一部分。 霍尔斯特德观察到软件度量应该要反映在不同编程语言中算法实现的方式，但又要独立于使用的平台及语言。这些度量要可以由静态代码中计算而得。
霍尔斯特德的目标是识别软件中可量测的性质，

计算[编辑]
针对特定的算法，首先需计算以下的数值：
𝜂1 为不同运算子的个数。
𝜂2 为不同算子的个数。
𝑁1 为所有运算子合计出现的次数。
𝑁2 为所有算子合计出现的次数。
上述的运算子包括传统的运算子及保留字，算子包括变数及常数




功能点(Funciton Point FP)估算法(一) 
识别项目范围和数据 ...

CSDN博客
https://blog.csdn.net › cty04502 › article › details

佛历2552年11月30日 — 功能点(Funciton Point FP)估算法(一) 识别项目范围和数据复杂度 转载 · 功能点估算法常用在项目开始或项目需求基本明确时使用，这时进行估算其结果的准确 ...

必读｜如何判断一个功能的复杂度？

掘金
https://juejin.cn › 开发工具

佛历2565年4月7日 — 掌握功能的复杂度判断也就是知道了问题的解决成本，但对产品经理来说，功能复杂程度由开发同学来评判的，自己很难

